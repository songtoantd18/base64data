<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose File and Play Video</title>
</head>

<body>

    <a href="#" onclick="chooseFile()">Choose File</a>
    <a href="#" onclick="convertVideoToBase64()">Convert Video to Base64</a>

    <!-- Input ƒë·ªÉ ch·ªçn t·ªáp -->
    <input type="file" id="fileInput" style="display:none" accept="video/*">

    <!-- Th·∫ª video ƒë·ªÉ ch∆°i video -->
    <video controls id="myVideo" width="400">
        Your browser does not support the video tag.
    </video>

    <!-- Hi·ªÉn th·ªã gi√° tr·ªã Base64 -->
    <div id="base64Value"></div>

    <script>
        // Bi·∫øn to√†n c·ª•c ƒë·ªÉ l∆∞u tr·ªØ gi√° tr·ªã base64Data
        var base64Data;

        function chooseFile() {
            // K√≠ch ho·∫°t s·ª± ki·ªán click tr√™n input file khi ng∆∞·ªùi d√πng nh·∫•p v√†o li√™n k·∫øt
            document.getElementById('fileInput').click();
        }

        // X·ª≠ l√Ω s·ª± ki·ªán khi ng∆∞·ªùi d√πng ch·ªçn t·ªáp
        document.getElementById('fileInput').addEventListener('change', function (event) {
            var fileInput = event.target;
            if (fileInput.files.length > 0) {
                var selectedFile = fileInput.files[0];
                playSelectedVideo(selectedFile);
            }
        });

        function playSelectedVideo(file) {
            // ƒê·ªçc t·ªáp v√† chuy·ªÉn ƒë·ªïi th√†nh Base64
            var reader = new FileReader();
            reader.onload = function (e) {
                base64Data = e.target.result.split(',')[1];

                // Hi·ªÉn th·ªã gi√° tr·ªã Base64
                document.getElementById('base64Value').innerHTML = base64Data;
            };
            reader.readAsDataURL(file);
        }

        function convertVideoToBase64() {
            // Ki·ªÉm tra xem base64Data ƒë√£ ƒë∆∞·ª£c ƒë·∫∑t hay ch∆∞a
            if (!base64Data) {
                alert("Please choose a file first.");
                return;
            }

            // T·∫°o m·ªôt ƒë·ªëi t∆∞·ª£ng video
            var video = document.createElement('video');

            // Thi·∫øt l·∫≠p thu·ªôc t√≠nh src c·ªßa video v·ªõi d·ªØ li·ªáu base64
            video.src = 'data:video/mp4;base64,' + base64Data;
            console.log("üöÄ ~ file: base64.html:68 ~ convertVideoToBase64 ~ video.src:", video.src)

            // T·ª± ƒë·ªông ph√°t video khi ƒë√£ t·∫£i xong (t√πy thu·ªôc v√†o tr√¨nh duy·ªát)
            video.autoplay = true;

            // Hi·ªÉn th·ªã controls ƒë·ªÉ ƒëi·ªÅu khi·ªÉn video
            video.controls = true;

            // Th√™m video v√†o body ho·∫∑c m·ªôt ph·∫ßn t·ª≠ kh√°c c·ªßa trang web
            document.body.appendChild(video);
        }
    </script>

</body>

</html>